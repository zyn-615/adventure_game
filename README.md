# 奇幻冒险游戏 - 超级增强版

一个基于文本的中文RPG游戏，具有丰富的游戏机制、状态效果系统和宠物系统。

## 🎮 游戏特性

### 核心系统
- **角色系统**: 等级、经验、技能、装备
- **战斗系统**: 回合制战斗，支持状态效果和策略性玩法
- **任务系统**: 多种任务类型，丰富的奖励
- **商店系统**: 购买装备和消耗品

### 🆕 最新功能

#### 🌟 状态效果系统
- **灼烧**: 持续造成伤害
- **冰冻**: 影响行动能力
- **眩晕**: 跳过回合无法行动
- **中毒**: 持续伤害效果
- **护盾**: 增加防御力
- **再生**: 持续恢复生命值

#### 🐾 宠物系统
- **收集宠物**: 5种不同类型的宠物
- **宠物培养**: 等级、经验、忠诚度系统
- **战斗伙伴**: 提供攻击、防御、闪避等加成
- **特殊能力**: 每种宠物都有独特的特殊技能

#### ⚔️ 增强战斗系统
- **回合制**: 清晰的回合结构
- **状态效果**: 技能可以施加各种状态效果
- **宠物协助**: 宠物提供战斗加成
- **策略性**: 眩晕、冰冻等效果影响战斗节奏

#### 🎨 视觉效果改进
- **彩色界面**: 不同信息用不同颜色显示
- **生命值条**: 直观的血条显示
- **状态展示**: 清晰的状态效果显示
- **战斗特效**: 暴击、闪避等特效

## 🐾 宠物系统详解

### 宠物类型
| 宠物 | 攻击加成 | 特殊能力 | 描述 |
|------|----------|----------|------|
| 🐺 幼狼 | +5 | 嗥叫 | 增强下次攻击伤害50% |
| 🐉 小龙 | +10 | 喷火 | 造成额外15点伤害 |
| 🦅 鹰 | +5%闪避 | 侦查 | 发现额外20金币 |
| 🐻 熊崽 | +3防御 | 护盾 | 减少50%伤害 |
| 🐱 猫 | +3%暴击 | 潜行 | 下次攻击必定暴击 |

### 宠物机制
- **忠诚度系统**: 影响宠物能力发挥
- **等级系统**: 宠物可以升级变强
- **喂养系统**: 用面包提升宠物忠诚度
- **战斗经验**: 宠物跟随战斗获得经验

## 🌟 状态效果详解

### 负面效果
- **🔥 灼烧**: 每回合造成5点伤害
- **❄️ 冰冻**: 影响行动，降低战斗能力
- **⚡ 眩晕**: 完全无法行动
- **☠️ 中毒**: 每回合造成3点伤害

### 正面效果
- **🛡️ 护盾**: 增加10点防御力
- **💚 再生**: 每回合恢复5点生命值

## 🎯 成就列表

| 成就 | 描述 | 解锁条件 |
|------|------|----------|
| 🏆 初出茅庐 | 击败第一个敌人 | 击败1个敌人 |
| 💰 小富翁 | 拥有超过500金币 | 金币≥500 |
| ⚔️ 战士 | 击败50个敌人 | 击败50个敌人 |
| 🌟 传奇 | 达到10级 | 等级≥10 |
| 🛡️ 坚韧 | 生命值降到10以下并存活 | 濒死状态1次 |
| 🔮 法师 | 使用技能50次 | 使用技能50次 |
| 🏪 购物狂 | 购买20件物品 | 购买20件物品 |
| 💎 收藏家 | 拥有5个宝石 | 拥有5个宝石 |
| 🎯 完美主义 | 完成所有任务 | 完成所有任务 |
| 🌈 幸运儿 | 触发10次随机事件 | 触发10次随机事件 |

## 🔮 技能系统

### 攻击技能
- **🔥 火球术**: 造成伤害 + 60%概率灼烧
- **❄️ 冰冻术**: 造成伤害 + 60%概率冰冻
- **⚡ 闪电术**: 造成伤害 + 60%概率眩晕

### 辅助技能
- **💚 治疗术**: 恢复生命值
- **🛡️ 护盾术**: 获得护盾效果

## 🗺️ 游戏区域

### 🌲 神秘森林
- 🐺 野狼 (40HP, 15攻击)
- 🕷️ 巨蜘蛛 (30HP, 12攻击)
- 🐻 黑熊 (80HP, 22攻击)

### 🏔️ 山洞
- 🦇 蝙蝠 (25HP, 10攻击)
- 👹 哥布林 (50HP, 18攻击)
- 🐉 洞穴龙 (120HP, 28攻击)

### 🏰 古堡
- 💀 骷髅战士 (60HP, 20攻击)
- 🐉 小龙 (100HP, 25攻击)
- 👻 幽灵 (45HP, 16攻击)

### 🌋 火山
- 🔥 火元素 (70HP, 24攻击)
- 🌋 岩浆怪 (90HP, 26攻击)
- 🐲 火龙 (150HP, 35攻击)

### ❄️ 冰窟
- 🧊 冰元素 (65HP, 20攻击)
- 🐧 冰企鹅 (35HP, 14攻击)
- 🐻‍❄️ 冰熊 (110HP, 30攻击)

## 🎮 游戏控制

### 主菜单
1. 🌲 探索神秘森林
2. 🏔️ 进入山洞
3. 🏰 挑战古堡
4. 🌋 探索火山
5. ❄️ 进入冰窟
6. 🏪 访问商店
7. 📊 查看状态
8. 🎒 管理装备
9. 🐾 宠物管理
10. 🏆 查看成就
11. 💾 保存游戏
12. 🚪 退出游戏

### 战斗选项
1. 攻击 - 基础物理攻击
2. 逃跑 - 70%概率成功逃跑
3. 使用物品 - 使用背包中的物品
4. 使用技能 - 消耗法力使用技能

### 宠物管理
1. 切换宠物 - 切换当前活跃宠物
2. 喂养宠物 - 提升宠物忠诚度
3. 返回主菜单

## 🎯 游戏策略

### 战斗策略
- 利用状态效果控制敌人
- 根据敌人类型选择合适的技能
- 管理法力值，合理使用技能
- 培养宠物提升战斗能力

### 宠物培养
- 定期喂养宠物保持高忠诚度
- 选择适合自己战斗风格的宠物
- 让宠物参与战斗获得经验

### 资源管理
- 合理分配金币购买装备
- 收集面包用于治疗和喂养
- 完成任务获得大量奖励

## 🏗️ 项目结构 (v4.0 模块化版本)

### 📂 新模块化文件结构
```
/test/
├── adventure_game.py    # 原版入口 (兼容性)
├── game/                # 🆕 模块化游戏包
│   ├── __init__.py     
│   ├── main.py         # 🆕 模块化游戏主入口
│   ├── core/           # 🆕 核心游戏对象
│   │   ├── __init__.py
│   │   ├── player.py   # Player类 (632行)
│   │   ├── enemy.py    # Enemy类 (127行)
│   │   ├── pet.py      # Pet类 (156行)
│   │   └── utils.py    # 工具函数 (64行)
│   ├── systems/        # 🆕 游戏系统
│   │   ├── __init__.py
│   │   ├── combat.py   # 战斗系统 (136行)
│   │   ├── achievements.py # 成就系统
│   │   └── save_load.py    # 存档系统
│   └── world/          # 🆕 游戏世界
│       ├── __init__.py
│       └── shops/      # 商店系统
│           ├── __init__.py
│           ├── weapon_shop.py   # 武器商店
│           ├── magic_shop.py    # 魔法商店
│           ├── pet_shop.py      # 宠物商店
│           └── general_shop.py  # 通用商店
├── test_game.py         # 测试文件
├── README.md           # 项目文档
├── .gitignore          # Git忽略文件
└── savegame_*.json     # 游戏存档
```

### 🚀 运行方式

#### 传统方式 (向后兼容)
```bash
python3 adventure_game.py
```

#### 模块化方式 (推荐)
```bash
python3 -m game.main
# 或
python3 game/main.py
```

### 🏛️ 核心架构

#### 主要类结构 (adventure_game.py)
```python
# 基础系统类
Colors (8-18)           # 终端颜色定义
Player (38-669)         # 玩家主类 - 核心
Pet (671-727)          # 宠物系统
Enemy (729-796)        # 敌人系统

# 社交系统类
NPC (798-830)          # 非玩家角色
Town (832-867)         # 城镇系统
BulletinBoard (869-943) # 任务公告板

# 商店系统类
WeaponShop (946-989)    # 武器商店
MagicShop (991-1042)    # 魔法商店
PetShop (1044-1121)     # 宠物商店
Tavern (1123-1190)      # 酒馆

# 房产系统类
House (1192-1216)       # 房屋
Furnishing (1218-1224)  # 家具
HouseBroker (1226-1448) # 房产经纪
```

#### 核心功能模块
- **Player类核心功能** (38-669行)
  - 基础属性：生命值、法力值、金币、等级、经验
  - 物品系统：背包、装备、物品管理
  - 技能系统：火球术、冰冻术、闪电术、治疗术、护盾术
  - 状态效果：灼烧、冰冻、眩晕、中毒、护盾、再生
  - 成就系统：10种成就类型
  - 任务系统：位置相关任务追踪
  - 存档系统：5个存档槽位

- **战斗系统** (1529-1664行)
  - 回合制：玩家→宠物→敌人循环
  - 状态效果：持续时间和效果处理
  - 宠物辅助：攻击加成、特殊能力
  - 技能使用：法力消耗、状态施加

- **宠物系统特色**
  - 🐺 幼狼：攻击+5, 嗥叫能力
  - 🐉 小龙：攻击+10, 喷火能力  
  - 🦅 鹰：闪避+5%, 侦查能力
  - 🐻 熊崽：防御+3, 护盾能力
  - 🐱 猫：暴击+3%, 潜行能力

#### 游戏流程
1. **启动流程**：初始化 → 创建/加载玩家 → 主游戏循环
2. **主循环结构**：显示菜单 → 处理输入 → 执行功能 → 更新状态 → 检查成就
3. **核心游戏循环**：探索 → 战斗 → 商店 → 城镇 → 管理

#### 设计模式
- **面向对象设计**：封装、继承、多态
- **状态管理**：集中化Player类管理，JSON持久化
- **模块化设计**：系统分离，功能内聚，接口清晰

## 🔧 系统要求

- Python 3.6+
- 支持ANSI颜色代码的终端

## 🚀 运行游戏

```bash
python3 adventure_game.py
```

## 🧪 运行测试

```bash
python3 test_game.py
```

## 📝 更新日志

### v4.0 (最新版本)
- 🏗️ **重大重构**: 代码结构完全模块化
- 📦 **模块化架构**: 分离为core、systems、world三大模块
- 🔧 **代码优化**: 主文件从2039行减少到476行 (70%减少)
- 🎯 **更好维护性**: 各功能模块独立，易于扩展和测试
- 🧪 **向后兼容**: 原有功能完全保持，游戏体验不变

### v3.2 
- 🐛 修复眩晕等状态效果回合处理bug
- ⚡ 状态效果现在在正确回合生效
- 🔧 优化战斗回合逻辑，先检查状态再处理效果

### v3.1 
- 🔧 修复城镇购买武器无法装备的bug
- ⚔️ 现在可以装备长弓和双手剑
- 🎒 购买物品正确添加到背包

### v3.0 
- 全新状态效果系统
- 完整宠物系统
- 增强的回合制战斗
- 更多视觉效果
- 完整的存档支持

### v2.0 
- 新增成就系统
- 战斗系统增强 (暴击/闪避)
- 新增火山和冰窟区域
- 视觉效果改进
- 多槽位存档系统

### v1.0 (原始版本)
- 基础RPG系统
- 简单战斗和任务
- 基础存档功能

## 🎯 未来扩展建议

### 🏘️ 城镇系统
- 主城hub
- NPC商人和任务给予者
- 房屋购买和装饰

### 🛠️ 制作系统
- 收集材料
- 制作装备和物品
- 炼金术系统

### 📊 属性系统
- 力量、敏捷、智力、体力
- 属性点分配
- 属性影响各种能力

### 🎯 更多战斗机制
- 组队战斗
- 元素克制
- 连击系统

---

享受你的冒险之旅！ 🎮✨🐾